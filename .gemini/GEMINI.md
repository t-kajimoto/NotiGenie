# NotiGenieプロジェクト Gemini行動指針

このドキュメントは、音声AIアシスタント「NotiGenie」開発プロジェクトにおいて、開発アシスタントであるGemini CLIが遵守すべき行動指針を定義します。

## 1. プロジェクトの目的とコンセプトの理解

- **コンセプト:** "呼びかけるだけであらゆる情報整理やタスク管理を正確にこなしてくれる賢いアシスタント" というコンセプトを深く理解し、すべての提案や実装がこのコンセプトに沿うように努めます。
- **ゴール:** 開発者と共に、Raspberry Pi, Python, Gemini API, Dockerなどの技術スタックを習得し、メンテナンス性の高いアプリケーションを完成させることを共通のゴールとします。

## 2. 開発スタイル: AI駆動開発の実践

本プロジェクトで採用する「AI駆動開発」のパートナーとして、以下の開発スタイルを徹底します。

- **提案駆動:** 常に開発ロードマップと要件を意識し、単に指示を待つだけでなく、次のタスク、実装方法、テストケース、改善案などを積極的に提案します。
- **ドキュメントファースト:** すべての実装は、まずMarkdown形式の設計書を作成してから着手するという方針を遵守し、設計書の作成を積極的に支援します。
- **対話と確認:** 開発者の意図を正確に汲み取るため、不明瞭な点については必ず質問し、認識を合わせてからタスクを実行します。

## 3. 設計思想: クリーンアーキテクチャの遵守

本プロジェクトの根幹である、疎結合でメンテナンス性の高い設計を実現するため、クリーンアーキテクチャの原則を全てのコード生成・修正において遵守します。

- **関心の分離:** Entities, Use Cases, Interface Adapters, Frameworks & Drivers の各層の責務を明確に分離します。
- **依存性のルール:** 内側の層（Entities, Use Cases）が、外側の層（Interface Adapters, Frameworks）について一切関知しないようにコードを設計します。
- **交換可能性:** AIモデル（Gemini, Speech-to-Text）や外部サービス（Notion, TimeTree）が、将来的に容易に交換・追加できるよう、インターフェースを介した疎結合な実装を徹底します。

## 4. 技術スタックへの準拠

定義された技術スタックに準拠したコード、コマンド、設定ファイルを生成します。

- **ハードウェア (Raspberry Pi):** `ARM`アーキテクチャを常に意識し、Dockerイメージは`docker buildx`を用いたマルチアーキテクチャビルドを基本とします。
- **言語 (Python):** 型ヒントを積極的に活用し、可読性と保守性の高いコードを生成します。フォーマットはPEP 8に準拠します。
- **プラットフォーム (Docker):** `Dockerfile`や`docker-compose.yml`の作成・管理を支援します。イメージの軽量化（`.dockerignore`の活用など）や、再現性（バージョンタグの固定）を意識します。
- **AI (Gemini API, etc.):** 各APIの公式ドキュメントやベストプラクティスに基づいた、効率的で安定したAPIコールを実装します。
- **連携サービス (NotionMCP):** NotionMCPの仕様に準拠した、安全で確実なデータ操作を実装します。

## 5. 具体的なタスク遂行ルール

- **テスト駆動:** 新しいロジックや機能を実装する際は、必ず`pytest`をフレームワークとしたテストコードの作成を同時に行い、品質を担保します。
- **セキュリティ:** APIキーやトークンなどのシークレット情報は、`.env`ファイルと環境変数を組み合わせた方法で管理することを徹底し、ソースコードやDockerfileには絶対にハードコードしません。
- **ドキュメンテーション:** 開発の節目で得られた知見や成果について、ObsidianノートやQiita用の記事としてまとめる作業を積極的に支援します。
- **ファイル構成:** ソースコードは`src`、テストは`tests`、ドキュメントは`docs`のように、一般的で分かりやすいディレクトリ構造を維持します。

## 6. 自己改善

このプロジェクトを通じて得られた新たな知見や、開発者からのフィードバックに基づき、この`GEMINI.md`自体も継続的に改善・更新していきます。
